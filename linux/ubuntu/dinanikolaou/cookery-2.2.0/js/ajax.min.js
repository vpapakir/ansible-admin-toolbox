/*! cookery 2.2.0 2024-07-02 1:15:25 PM */
jQuery.fn.isOnScreen=function(){var a=jQuery(window),e={top:a.scrollTop(),left:a.scrollLeft()},a=(e.right=e.left+a.width(),e.bottom=e.top+a.height(),this.offset());return a.right=a.left+this.outerWidth(),a.bottom=a.top+this.outerHeight(),!(e.right<a.left||e.left>a.right||e.bottom<a.top||e.top>a.bottom)},jQuery(document).ready(function(o){var t,i,s,a,e,l,n,r,c,d;"undefined"!=typeof cookery_ajax&&(t=parseInt(cookery_ajax.startPage)+1,i=parseInt(cookery_ajax.maxPages),s=cookery_ajax.nextLink,a=cookery_ajax.autoLoad,e=cookery_ajax.homepage_layout,r="",r=o("body").hasClass("home")&&"five"==e||"six"==e?"multi-item":"site-main","load_more"==a?(o(".pagination-nav").before('<div class="pagination_holder" style="display: none;"></div>').after('<div id="load-posts"><a href="javascript:void(0);"><i class="fas fa-sync-alt"></i>'+cookery_ajax.loadmore+"</a></div>"),t==i+1&&o("#load-posts a").html('<i class="fas fa-ban"></i>'+cookery_ajax.nomore).addClass("disabled"),o("#load-posts a").click(function(){return t<=i&&!o(this).hasClass("loading")&&(o(this).html('<i class="fas fa-sync-alt fa-spinner"></i>'+cookery_ajax.loading).addClass("loading"),o(".pagination_holder").load(s+" .latest_post",function(){t++;s=s.replace(/(\/?)page(\/|d=)[0-9]+/,"$1page$2"+t);var a,e=o(".pagination_holder").html();o(".pagination_holder").html(""),0<o(".blog").length||0<o(".search").length||0<o(".archive").length?(a=o(e).filter("article.latest_post"),o("."+r).append(a).imagesLoaded(function(){o("."+r).masonry("appended",a)})):o("."+r+" article:last").after(e),o(".site-main").find(".entry-content").find("div").hasClass("tiled-gallery")&&o.getScript(cookery_ajax.plugin_url+"/jetpack/modules/tiled-gallery/tiled-gallery/tiled-gallery.js"),(t<=i?o("#load-posts a").html('<i class="fas fa-sync-alt"></i>'+cookery_ajax.loadmore):o("#load-posts a").html('<i class="fas fa-ban"></i>'+cookery_ajax.nomore).addClass("disabled")).removeClass("loading")})),!1}),o(".pagination-nav").remove()):"infinite_scroll"==a&&(o(".pagination-nav").before('<div class="pagination_holder" style="display: none;"></div>'),n=l=!1,(0<o(".blog").length||0<o(".search").length||0<o(".archive").length)&&o(window).scroll(function(){l||n||o(".latest_post").last().isOnScreen()&&(t<=i?(l=!0,o(".pagination_holder").load(s+" .latest_post",function(){t++;l=!1,s=s.replace(/(\/?)page(\/|d=)[0-9]+/,"$1page$2"+t);var a,e=o(".pagination_holder").html();o(".pagination_holder").html(""),0<o(".blog").length||0<o(".search").length||0<o(".archive").length?(a=o(e).filter("article.latest_post"),o("."+r).append(a).imagesLoaded(function(){o("."+r).masonry("appended",a)})):o("."+r+" article:last").after(e),o(".site-main").find(".entry-content").find("div").hasClass("tiled-gallery")&&o.getScript(cookery_ajax.plugin_url+"/jetpack/modules/tiled-gallery/tiled-gallery/tiled-gallery.js")})):n=!0)}),o(".pagination-nav").remove()),o("body").on("click",".btn-simple",function(){o(this).addClass("adding-cart");var e=o(this).attr("id");o.ajax({url:cookery_ajax.url,type:"post",data:"action=cookery_add_cart_single&product_id="+e,success:function(a){o("#"+e).replaceWith(a)}}).done(function(){var a=o("#cart-"+e).val();o(".cart .number").html(a)})}),o("body").on("click",".cookery_ajax_like",function(){var a=o(this);id=a.attr("id").split("-").pop(),"like"===a.children().attr("class").split(" ")[1]&&o.ajax({type:"post",url:cookery_ajax.url,data:{action:"cookery_post_like",id:id},beforeSend:function(){a.addClass("loading")},success:function(a){a&&o("#like-"+id).html(a)}}).done(function(){a.removeClass("loading")})}),c="",d=null,loadSearchResults=function(a,e){if(e.hasClass("search-result-wrap")||(e=e.find(".search-result-wrap")),a==c){var t=e.closest(".advance-search-wrap").find(".search-result-wrap");if(!t.is(":empty"))return t.show().closest(".advance-search-wrap").addClass("ajax-search-box-open"),!1}c=a,d&&d.abort(),d=jQuery.ajax({url:cookery_ajax.url,data:{action:"cookery_search",q:a,s_layout:cookery_ajax.s_layout},beforeSend:function(){e.addClass("loading")},success:function(a){e.html(a).show().closest(".advance-search-wrap").addClass("ajax-search-box-open")}}).done(function(){e.removeClass("loading")})},o(".advance-search-wrap").each(function(){var e=o(this);e.addClass("ajax-search").append('<div class="search-result-wrap"></div>').find(".search-field").on("input propertychange",function(){var a=jQuery(this).val();2<a.length?fnDelay(function(){loadSearchResults(a,e)},400):e.removeClass("ajax-search-box-open").find(".search-result-wrap").hide()}).focus(function(){var a=e.find(".search-result-wrap");!a.is(":empty")&&2<o(this).val().length&&(e.addClass("ajax-search-box-open"),a.show())}),e.find(".search-result-wrap").hide()}).click(function(a){a.stopPropagation()}),o(document).on("keydown",".ajax-search-box-open",function(a){var e=o(this),t=e.find(":focus");switch(a.which){case 38:(t.is("input")?e.find("li:last a"):t.closest("li").prev("li").length?t.closest("li").prev("li").find("a:first"):e.find("input.search-field")).focus();break;case 40:(t.is("input")?e.find("li:first a"):t.closest("li").next("li").length?t.closest("li").next("li").find("a:first"):e.find("input.search-field")).focus();break;default:return}a.preventDefault()}))});var fnDelay=function(){var t=0;return function(a,e){clearTimeout(t),t=setTimeout(a,e)}}();